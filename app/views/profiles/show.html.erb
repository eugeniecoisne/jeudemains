<div class="container">
  <div class="row justify-content-center">
    <div class="col-8 mt-3">
      <h1>Profiles#show</h1>
      <%= link_to 'Editer le profile', edit_profile_path(@profile) %>
    </div>
    <div class="col-8">
      <ul>
        <% @profile.places.each do |place| %>
          <li>
            <%= place.name %>
            <%= link_to 'Editer', edit_place_path(place) %>
            <%= link_to 'Supprimer', place_path(place), method: :delete, data: { confirm: 'Confirmez-vous la suppression ?' } %>
            <ul>
              <% place.workshops.each do |workshop| %>
                <li>
                  <%= workshop.name %>
                  <%= link_to 'Editer', edit_workshop_path(workshop) %>
                  <%= link_to 'Supprimer', workshop_path(workshop), method: :delete, data: { confirm: 'Confirmez-vous la suppression ?' } %>
                  <%= link_to 'Ajouter une date', new_workshop_workshop_date_path(workshop) %>
                </li>
              <% end %>
            </ul>
          </li>
        <% end %>
      </ul>
    </div>

    <div class="col-8 mt-3">
      <h5>Créer un nouveau lieu</h5>
      <%= simple_form_for([@profile, @place]) do |f| %>
        <%= f.input :name, label: false, placeholder: 'Nom du lieu' %>
        <div class="form-row">
          <div class="form-group col-md-4">
            <%= f.input :address, label: false, placeholder: 'Numéro + Rue' %>
          </div>
          <div class="form-group col-md-4">
            <%= f.input :zip_code, label: false, placeholder: 'Code postal' %>
          </div>
          <div class="form-group col-md-4">
            <%= f.input :city, label: false, placeholder: 'Ville' %>
          </div>
        </div>
        <%= f.input :phone_number, label: false, placeholder: 'Téléphone' %>
        <%= f.submit 'Valider', class: 'btn btn-primary rounded-pill' %>
        <%= link_to 'Annuler', profile_path(@profile), class: 'btn btn-primary rounded-pill' %>
      <% end %>
    </div>
  </div>
</div>

